{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Backupz","text":""},{"location":"#license","title":"License","text":"<pre><code>Copyright 2021-2024 Vitaliy Zarubin\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n</code></pre>"},{"location":"install/","title":"Install Backupz","text":""},{"location":"install/#install-dependencies","title":"Install dependencies","text":"<pre><code>sudo apt update &amp;&amp; sudo apt install tar pigz git ffmpeg\n</code></pre>"},{"location":"install/#install-application","title":"Install application","text":"<ul> <li>Method 1 - pip</li> <li>Method 2 - pyz</li> <li>Method 3 - source</li> </ul>"},{"location":"install/pip/","title":"Install Changeln from PyPi","text":"<p>The standard way to distribute python packages.</p> <pre><code>python3 -m pip install backupz\n</code></pre>"},{"location":"install/pyz/","title":"Install Backupz *.pyz","text":"<p>This method is as simple as possible - the entire application is in a pyz file.</p>"},{"location":"install/pyz/#create-folder","title":"Create folder","text":"<pre><code>mkdir ~/.local/opt\n</code></pre>"},{"location":"install/pyz/#download","title":"Download","text":"<pre><code>wget -x https://github.com/keygenqt/backupz/raw/main/builds/backupz-2.4.0.pyz \\\n  -O ~/.local/opt/backupz.pyz\n</code></pre>"},{"location":"install/pyz/#add-alias-to-bashrc","title":"Add alias to <code>~/.bashrc</code>","text":"<pre><code>alias backupz='python3 ~/.local/opt/backupz.pyz'\n</code></pre>"},{"location":"install/pyz/#update-environment","title":"Update environment","text":"<pre><code>source ~/.bashrc\n</code></pre>"},{"location":"install/source/","title":"Install Backupz from GitHub","text":"<p>This method is suitable for development.</p>"},{"location":"install/source/#create-folder","title":"Create folder","text":"<pre><code>mkdir -p ~/.local/opt/backupz\n</code></pre>"},{"location":"install/source/#clone-project","title":"Clone project","text":"<pre><code>git clone https://github.com/keygenqt/backupz.git ~/.local/opt/backupz\n</code></pre>"},{"location":"install/source/#open-folder-project","title":"Open folder project","text":"<pre><code>cd ~/.local/opt/backupz\n</code></pre>"},{"location":"install/source/#init-environment","title":"Init environment","text":"<pre><code>virtualenv .venv\n</code></pre>"},{"location":"install/source/#open-environment","title":"Open environment","text":"<pre><code>source .venv/bin/activate\n</code></pre>"},{"location":"install/source/#install-requirements","title":"Install requirements","text":"<pre><code>pip install -r requirements.txt\n</code></pre>"},{"location":"install/source/#run-app","title":"Run app","text":"<pre><code>python -m backupz\n</code></pre>"},{"location":"using/","title":"Backupz","text":"<p>The application helps you create a backup from the necessary files or directories. The archive is created using pigz - a parallel implementation of gzip for modern multi-processor, multi-core machines. With cron you can schedule your backups and keep your data intact. Using the configuration file, you can configure your backups in detail. You can have several configuration files for different cases.</p> <p>You can create a backup from:</p> <ul> <li>Files and directories.</li> <li>Git repositories.</li> <li>Links to files that will be downloaded in advance.</li> <li>You can download and save videos from YouTube.</li> <li>The <code>execute</code> section allows you to execute commands before the backup, which will allow you to save, for example,   databases.</li> </ul> <p>You can save the resulting archive in the archive specified to you and upload it to the server via <code>FTP</code> or <code>SSH</code>.</p>"},{"location":"using/config/","title":"Config Backupz","text":"<p>This is the default configuration file. This file is used to configure the data backup application.</p> <pre><code>## Application configuration file Backupz\n## Version config: 0.0.6\n\n# Path to file\n# - /path/to/you.file\n# Path to folder\n# - /path/to/folder\n# SSH git repo\n# - git@github.com:git/ssh.git\n# HTTP git repo\n# - https://github.com/git/https.git\n# Download file by url\n# - https://github.com/keygenqt/backupz/raw/main/builds/backupz-2.4.0.pyz\n# Download YouTube video (720p)\n# - https://www.youtube.com/watch?v=N2_7kqSmTZU\n# Backup posts Telegram\n# - https://t.me/channel_name\nbackup:\n  - ~/.backupz\n\n# Execute command before dump\n# Example: mysqldump -u root -p00000 my_db &gt; ~/my_db.sql\nexecute: []\n\n# https://linux.die.net/man/1/tar\n# Exclude by regex (tar --exclude)\nexclude: []\n\n# https://linux.die.net/man/1/pigz\n# Regulate the speed of compression using the specified digit,\n# where -1 or --fast indicates the fastest compression method\n# (less compression) and -9 or --best indicates the slowest\n# compression method. Level 0 is no compression.\n# 1 to 9 or fast/best\ncompression: best\n\n# Name folder for save backup in format 'datetime.strftime'\n# https://docs.python.org/3/library/datetime.html#strftime-and-strptime-behavior\nname: 'backupz_%d_%m_%Y'\n\n# Folder for save\nfolder: ~/\n\n# Array folders SSH for save\n# {\n#   hostname: 192.168.2.15\n#   username: defaultuser\n#   port: 22\n#   path: /path/to/folder\n#   auth: 'password' or '/path/to/id_rsa'\n# }\nssh: []\n\n# Array folders FTP for save\n# {\n#   hostname: 192.168.2.15\n#   username: defaultuser\n#   password: '00000'\n#   port: 22\n#   path: /path/to/folder\n# }\nftp: []\n</code></pre>"},{"location":"using/execute/","title":"Execute","text":"<p>You can execute the necessary commands by specifying them in the configuration file section:</p> <pre><code># ...\n\nbackup:\n  - ~/my_db1.sql\n  - ~/my_db2.sql\n  - ~/my_db3.sql\n\n# ...\n\nexecute:\n  - mysqldump -u root -p00000 my_db1 &gt; ~/my_db1.sql\n  - mysqldump -u root -p00000 my_db2 &gt; ~/my_db2.sql\n  - mysqldump -u root -p00000 my_db3 &gt; ~/my_db3.sql\n\n# ...\n</code></pre>"},{"location":"using/files/","title":"Files and folders","text":"<p>In the configuration file, specify the files and folders that will be saved in the archive:</p> <pre><code># ...\n\nbackup:\n  # files\n  - ~/file1.ext\n  - ~/file2.ext\n  - ~/file3.ext\n  # folders\n  - ~/path/to/folder1\n  - ~/path/to/folder2\n  - ~/path/to/folder3\n\n# ...\n</code></pre>"},{"location":"using/files_url/","title":"Files by URL","text":"<p>By specifying links to files, they will be downloaded and saved in the Downloads/backupz folder:</p> <pre><code># ...\n\nbackup:\n  # urls\n  - https://dom.com/file1.ext\n  - https://dom.com/file2.ext\n  - https://dom.com/file3.ext\n\n# ...\n</code></pre>"},{"location":"using/git/","title":"Git repositories","text":"<p>The application can clone Git repositories, a great way to make a GitHub backup:</p> <pre><code># ...\n\nbackup:\n  # urls\n  - https://github.com/git/https.git\n  - git@github.com:git/ssh.git\n\n# ...\n</code></pre>"},{"location":"using/telegram/","title":"Telegram","text":"<p>In the configuration file, specify the Telegram channel URL and connection settings from my.telegram.org:</p> <pre><code># ...\n\nbackup:\n  # url chanel Telegram\n  - https://t.me/channel_name\n\n# For backup telegram post channel\n# Use your own values from my.telegram.org\ntelegram:\n  api_id: 0000000\n  api_hash: 00000000000000000000000000000000\n\n# ...\n</code></pre>"},{"location":"using/youtube/","title":"YouTube videos","text":"<p>By specifying links to videos from YouTube, the application downloads the video and saves it in the archive:</p> <pre><code># ...\n\nbackup:\n  # urls\n  - https://www.youtube.com/watch?v=7JRRidTWuFY\n  - https://youtube.com/watch?v=7JRRidTWuFY\n  - https://youtu.be/7JRRidTWuFY\n\n# ...\n</code></pre>"}]}